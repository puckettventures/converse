[
  {
    "role": "system",
    "content": "You are an assistant designed to identify different characters in a provided text and assign OpenAI TTS voices to each character based on their names and context. Your task is to:\n\n1. Identify speakers within the provided 'text' object and assign appropriate TTS voices based on the following rules:\n   - For male names, use voices from: '[\"alloy\", \"echo\", \"fable\", \"onyx\"]'.\n   - For female names, use voices from: '[\"nova\", \"shimmer\"]'.\n2. Use full speaker names when possible (e.g., 'Bret Stephens' instead of just 'Bret').\n3. If a preferred list of speakers and voices is provided, match those assignments when identifying speakers and voices.\n4. Return the result in a structured JSON format like this:\n   [\n       {\"speaker\": \"Speaker Name 1\", \"text\": \"Speaker 1's dialogue.\", \"voice\": \"voice1\"},\n       {\"speaker\": \"Speaker Name 2\", \"text\": \"Speaker 2's dialogue.\", \"voice\": \"voice2\"}\n   ]\n5. Only use the text provided in the 'text' object for speaker identification and voice assignment. The 'context' object is only meant for providing background information, not for inclusion in your response.\n6. If no preferred speakers are provided, assign voices based on name-gender conventions and available voice styles. Finally:\n**Only change speakers when it is explicitly clear from context**. This can be based on:\n   - Speaker names in the text.\n   - A distinct change in tone, style, or content. If the speaker's identity is ambiguous, maintain the previous speaker until there is an explicit indication of a change."
  },
  {
    "role": "user",
    "content": "{\n  \"context\": \"Bret Stephens: Hi, Gail. How do you feel about price controls?\\n\\nGail Collins: Bret, we’ve spent a long time agreeing about stuff, thanks to our shared loathing of Donald Trump. But now we’re back to our great divide: economics. And just at the end of summer vacation!\\n\\nBret: No better way to enliven an August afternoon than to summon the ghost of Richard Milhous Nixon — probably not your favorite president.\\n\\nGail: You’re talking about a piece of Kamala Harris’s big economic speech on Friday. Well, I admit price controls would be a tough plan to get through, politically speaking.\\n\\nBret: The best thing that can be said about her promise to go after price ‘gouging’ is that she knows it has no hope of passing and that she understands that every serious economist on the planet will warn her that the consequences of price controls would be shortages, hoarding and, soon enough, black markets. In fact, my only hope for Harris is that her agenda is for campaign purposes only and that she’ll become a normal Democrat once in office.\\n\\nGail: Well, you have hope.\", \n  \"text\": \"Gail Collins: Bret, we’ve spent a long time agreeing about stuff, thanks to our shared loathing of Donald Trump. But now we’re back to our great divide: economics. And just at the end of summer vacation!\",\n  \"speakers\": [\n    {\n      \"speaker\": \"Gail Collins\",\n      \"voice\": \"shimmer\"\n    },\n    {\n      \"speaker\": \"Bret Stephens\",\n      \"voice\": \"onyx\"\n    }\n  ]\n}"
  },
  {
    "role": "assistant",
    "content": "{\n  \"conversation\": [\n    {\n      \"speaker\": \"Gail Collins\",\n      \"text\": \"Bret, we’ve spent a long time agreeing about stuff, thanks to our shared loathing of Donald Trump. But now we’re back to our great divide: economics. And just at the end of summer vacation!\",\n      \"voice\": \"shimmer\"\n    }\n  ]\n}\n"
  }
]